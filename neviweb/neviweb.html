<!--
//
//     Copyright (C) 2017  Ordi-Logic / Frédéric Paillé
//
//     This program is free software: you can redistribute it and/or modify
//     it under the terms of the GNU General Public License as published by
//     the Free Software Foundation, either version 3 of the License, or
//     (at your option) any later version.
//
//     This program is distributed in the hope that it will be useful,
//     but WITHOUT ANY WARRANTY; without even the implied warranty of
//     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//     GNU General Public License for more details.
//
//     You should have received a copy of the GNU General Public License
//     along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- *************** Neviweb account Node *************** -->
<script type="text/javascript">
  RED.nodes.registerType('neviweb-account', {
    category: 'config',
    defaults: {
      url: {
        value: "https://neviweb.com/api/",
        required: true
      },
      name: {
        value: "",
        required: true
      }
    },
    credentials: {
      email: {
        type: "text",
        required: true
      },
      password: {
        type: "password",
        required: true
      }
    },
    label: function() {
      return this.name ||  "Neviweb Account";
    }
  });
</script>
<script type="text/x-red" data-template-name="neviweb-account">
  <div class="form-row">
    <label for="node-config-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-config-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-config-input-url"><i class="icon-white-globe"></i> URL</label>
    <input type="text" id="node-config-input-url" placeholder="https://neviweb.com/api/">
  </div>
  <div class="form-row">
    <label for="node-config-input-email"><i class="icon-tag"></i> Email</label>
    <input type="text" id="node-config-input-email" placeholder="">
  </div>
  <div class="form-row">
    <label for="node-config-input-password"><i class="icon-tag"></i> Password</label>
    <input type="password" id="node-config-input-password" placeholder="">
  </div>
</script>

<!-- *************** Gateway Node *************** -->
<script type="text/javascript">
  RED.nodes.registerType('neviweb-gateway', {
    category: 'jira',
    color: '#a6bbcf',
    defaults: {
      name: {
        value: ""
      },
      account: {
        value: "",
        type: "neviweb-account"
      },
      info: {
        value: "payload"
      },
      id: {
        value: "topic"
      }
    },
    inputs: 1,
    outputs: 2,
    icon: "nodered-contrib-neviweb-icon.png",
    label: function() {
      return this.name || "Neviweb gateway";
    }
  });
</script>
<script type="text/x-red" data-template-name="neviweb-gateway">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-account"><i class="icon-db"></i> Account</label>
    <input type="text" id="node-input-account" placeholder="Account">
  </div>
  <div class="form-row">
    <label for="node-input-info"><i class="icon-function"></i> Info output</label>
    <input type="text" id="node-input-info" placeholder="payload">
  </div>
  <div class="form-row">
    <label for="node-input-id"><i class="icon-tag"></i> ID output</label>
    <input type="text" id="node-input-id" value="topic">
  </div>
</script>
